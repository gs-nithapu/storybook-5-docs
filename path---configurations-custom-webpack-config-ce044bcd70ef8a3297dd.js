webpackJsonp([0xc641b59d517c],{928:function(e,t){e.exports={data:{site:{siteMetadata:{docSections:{basics:["/basics/introduction/","/basics/writing-stories/","/basics/exporting-storybook/","/basics/faq/","/basics/live-examples/"],guides:["/guides/quick-start-guide/","/guides/slow-start-guide/","/guides/guide-html/","/guides/guide-react/","/guides/guide-react-native/","/guides/guide-vue/","/guides/guide-angular/","/guides/guide-mithril/","/guides/guide-marko/","/guides/guide-ember/","/guides/guide-riot/","/guides/guide-svelte/","/guides/guide-preact/"],configurations:["/configurations/overview/","/configurations/options-parameter/","/configurations/default-config/","/configurations/custom-webpack-config/","/configurations/custom-babel-config/","/configurations/typescript-config/","/configurations/add-custom-head-tags/","/configurations/add-custom-body/","/configurations/serving-static-files/","/configurations/env-vars/","/configurations/theming/","/configurations/cli-options/","/configurations/standalone-options/"],formats:["/formats/component-story-format/","/formats/storiesof-api/","/formats/mdx-syntax/"],testing:["/testing/react-ui-testing/","/testing/structural-testing/","/testing/interaction-testing/","/testing/automated-visual-testing/","/testing/manual-testing/"],addons:["/addons/introduction/","/addons/using-addons/","/addons/writing-addons/","/addons/api/"],presets:["/presets/introduction/","/presets/preset-gallery/","/presets/writing-presets/"]}}},allMarkdownRemark:{edges:[{node:{fields:{slug:"/configurations/add-custom-head-tags/"},frontmatter:{title:"Add Custom Head Tags",id:"add-custom-head-tags"}}},{node:{fields:{slug:"/configurations/add-custom-body/"},frontmatter:{title:"Add Custom Body",id:"add-custom-body"}}},{node:{fields:{slug:"/configurations/custom-postcss-config/"},frontmatter:{title:"Custom Postcss Config",id:"custom-postcss-config"}}},{node:{fields:{slug:"/404/"},frontmatter:{title:"",id:null}}},{node:{fields:{slug:"/configurations/cli-options/"},frontmatter:{title:"CLI Options",id:"cli-options"}}},{node:{fields:{slug:"/configurations/custom-babel-config/"},frontmatter:{title:"Custom Babel Config",id:"custom-babel-config"}}},{node:{fields:{slug:"/configurations/env-vars/"},frontmatter:{title:"Using Environment Variables",id:"env-vars"}}},{node:{fields:{slug:"/configurations/default-config/"},frontmatter:{title:"Default Config",id:"default-config"}}},{node:{fields:{slug:"/configurations/options-parameter/"},frontmatter:{title:"Options Parameter",id:"options-parameter"}}},{node:{fields:{slug:"/configurations/serving-static-files/"},frontmatter:{title:"Serving Static Files",id:"serving-static-files"}}},{node:{fields:{slug:"/configurations/standalone-options/"},frontmatter:{title:"Standalone Options",id:"standalone-options"}}},{node:{fields:{slug:"/configurations/overview/"},frontmatter:{title:"Configuration overview",id:"overview"}}},{node:{fields:{slug:"/configurations/theming/"},frontmatter:{title:"Theming Storybook",id:"theming"}}},{node:{fields:{slug:"/basics/faq/"},frontmatter:{title:"Frequently Asked Questions",id:"faq"}}},{node:{fields:{slug:"/basics/exporting-storybook/"},frontmatter:{title:"Exporting Storybook as a Static App",id:"exporting-storybook"}}},{node:{fields:{slug:"/basics/community/"},frontmatter:{title:"Community",id:"community"}}},{node:{fields:{slug:"/addons/using-addons/"},frontmatter:{title:"Using Addons",id:"using-addons"}}},{node:{fields:{slug:"/basics/introduction/"},frontmatter:{title:"Introduction",id:"introduction"}}},{node:{fields:{slug:"/basics/live-examples/"},frontmatter:{title:"Live Examples",id:"live-examples"}}},{node:{fields:{slug:"/basics/toolbar-guide/"},frontmatter:{title:"Toolbar",id:"toolbar-guide"}}},{node:{fields:{slug:"/formats/component-story-format/"},frontmatter:{title:"Component Story Format (CSF)",id:"component-story-format"}}},{node:{fields:{slug:"/formats/mdx-syntax/"},frontmatter:{title:"MDX Syntax",id:"mdx-syntax"}}},{node:{fields:{slug:"/guides/guide-angular/"},frontmatter:{title:"Storybook for Angular",id:"guide-angular"}}},{node:{fields:{slug:"/formats/storiesof-api/"},frontmatter:{title:"StoriesOf API",id:"storiesof-api"}}},{node:{fields:{slug:"/addons/introduction/"},frontmatter:{title:"Intro to Addons",id:"introduction"}}},{node:{fields:{slug:"/guides/guide-html/"},frontmatter:{title:"Storybook for HTML",id:"guide-html"}}},{node:{fields:{slug:"/guides/guide-mithril/"},frontmatter:{title:"Storybook for Mithril",id:"guide-mithril"}}},{node:{fields:{slug:"/guides/guide-marko/"},frontmatter:{title:"Storybook for Marko",id:"guide-marko"}}},{node:{fields:{slug:"/guides/guide-ember/"},frontmatter:{title:"Storybook for Ember",id:"guide-ember"}}},{node:{fields:{slug:"/guides/guide-rax/"},frontmatter:{title:"Storybook for Rax",id:"guide-rax"}}},{node:{fields:{slug:"/guides/guide-react-native/"},frontmatter:{title:"Storybook for React Native",id:"guide-react-native"}}},{node:{fields:{slug:"/guides/guide-preact/"},frontmatter:{title:"Storybook for Preact",id:"guide-preact"}}},{node:{fields:{slug:"/guides/guide-riot/"},frontmatter:{title:"Storybook for Riot",id:"guide-riot"}}},{node:{fields:{slug:"/guides/guide-react/"},frontmatter:{title:"Storybook for React",id:"guide-react"}}},{node:{fields:{slug:"/guides/guide-vue/"},frontmatter:{title:"Storybook for Vue",id:"guide-vue"}}},{node:{fields:{slug:"/guides/guide-svelte/"},frontmatter:{title:"Storybook for Svelte",id:"guide-svelte"}}},{node:{fields:{slug:"/guides/quick-start-guide/"},frontmatter:{title:"Quick Start Guide",id:"quick-start-guide"}}},{node:{fields:{slug:"/presets/preset-gallery/"},frontmatter:{title:"Preset Gallery",id:"preset-gallery"}}},{node:{fields:{slug:"/presets/writing-presets/"},frontmatter:{title:"Writing Presets",id:"writing-presets"}}},{node:{fields:{slug:"/guides/slow-start-guide/"},frontmatter:{title:"Slow Start Guide",id:"slow-start-guide"}}},{node:{fields:{slug:"/testing/manual-testing/"},frontmatter:{title:"Manual Testing",id:"manual-testing"}}},{node:{fields:{slug:"/testing/react-ui-testing/"},frontmatter:{title:"Introduction: React UI Testing",id:"react-ui-testing"}}},{node:{fields:{slug:"/presets/introduction/"},frontmatter:{title:"Intro to Presets",id:"introduction"}}},{node:{fields:{slug:"/testing/interaction-testing/"},frontmatter:{title:"Interaction Testing",id:"interaction-testing"}}},{node:{fields:{slug:"/testing/structural-testing/"},frontmatter:{title:"Structural Testing",id:"structural-testing"}}},{node:{fields:{slug:"/configurations/custom-webpack-config/"},frontmatter:{title:"Custom Webpack Config",id:"custom-webpack-config"}}},{node:{fields:{slug:"/configurations/typescript-config/"},frontmatter:{title:"TypeScript Config",id:"typescript-config"}}},{node:{fields:{slug:"/addons/addon-gallery/"},frontmatter:{title:"Addon Gallery",id:"addon-gallery"}}},{node:{fields:{slug:"/addons/writing-addons/"},frontmatter:{title:"Writing Addons",id:"writing-addons"}}},{node:{fields:{slug:"/addons/api/"},frontmatter:{title:"API",id:"api"}}},{node:{fields:{slug:"/basics/writing-stories/"},frontmatter:{title:"Writing Stories",id:"writing-stories"}}},{node:{fields:{slug:"/testing/automated-visual-testing/"},frontmatter:{title:"Automated Visual Testing",id:"automated-visual-testing"}}}]},markdownRemark:{html:"<p>You can customize Storybook’s webpack setup by providing a <code>webpackFinal</code> field in <code>main.js</code> file.\nThe value should be an async function that receives a webpack config and eventually returns a webpack config.</p>\n<p>Storybook has its own Webpack setup and a dev server.\nThe webpack config <a href=\"/docs/configurations/custom-webpack-config#webpack-customisation-modes/\">is configurable</a>, and the default can depend on which framework you’re using and whether you’ve used a generator like <a href=\"https://github.com/facebookincubator/create-react-app\">Create React App</a> or Angular CLI etc.</p>\n<blockquote>\n<p>We’re trying to make storybook more zero-config over time, <strong>help to hook into the config of generators is very welcome</strong>.</p>\n</blockquote>\n<details>\n  <summary>This is what the config for storybook looks like when using CRA in dev-mode:</summary>\n<pre><code class=\"language-js\">{\n  mode: 'development',\n  bail: false,\n  devtool: '#cheap-module-source-map',\n  entry: [\n    '@storybook/core/dist/server/common/polyfills.js',\n    '@storybook/core/dist/server/preview/globals.js',\n    '&#x3C;your-storybook-dir>/preview.js',\n    'webpack-hot-middleware/client.js?reload=true',\n  ],\n  output: {\n    path: './',\n    filename: '[name].[hash].bundle.js',\n    publicPath: '',\n  },\n  plugins: [\n    HtmlWebpackPlugin {\n      options: {\n        template: '@storybook/core/dist/server/templates/index.ejs',\n        templateContent: false,\n        templateParameters: [Function: templateParameters],\n        filename: 'iframe.html',\n        hash: false,\n        inject: false,\n        compile: true,\n        favicon: false,\n        minify: undefined,\n        cache: true,\n        showErrors: true,\n        chunks: 'all',\n        excludeChunks: [],\n        chunksSortMode: 'none',\n        meta: {},\n        title: 'Webpack App',\n        xhtml: false,\n        alwaysWriteToDisk: true,\n      },\n    },\n    DefinePlugin {\n      definitions: {\n        'process.env': {\n          NODE_ENV: '\"development\"',\n          NODE_PATH: '\"\"',\n          PUBLIC_URL: '\".\"',\n          '&#x3C;storybook-environment-variables>'\n          '&#x3C;dotenv-environment-variables>'\n        },\n      },\n    },\n    WatchMissingNodeModulesPlugin {\n      nodeModulesPath: './node_modules',\n    },\n    HotModuleReplacementPlugin {},\n    CaseSensitivePathsPlugin {},\n    ProgressPlugin {},\n    DefinePlugin {\n      definitions: {\n        '&#x3C;storybook-environment-variables>'\n        '&#x3C;dotenv-environment-variables>'\n      },\n    },\n  ],\n  module: {\n    rules: [\n      { test: /\\.(mjs|jsx?)$/,\n        use: [\n          { loader: 'babel-loader', options:\n            { cacheDirectory: './node_modules/.cache/storybook',\n              presets: [\n                [ './node_modules/@babel/preset-env/lib/index.js', { shippedProposals: true, useBuiltIns: 'usage', corejs: '3' } ],\n                './node_modules/@babel/preset-react/lib/index.js',\n                './node_modules/@babel/preset-flow/lib/index.js',\n              ],\n              plugins: [\n                './node_modules/@babel/plugin-proposal-object-rest-spread/lib/index.js',\n                './node_modules/@babel/plugin-proposal-class-properties/lib/index.js',\n                './node_modules/@babel/plugin-syntax-dynamic-import/lib/index.js',\n                [ './node_modules/babel-plugin-emotion/dist/babel-plugin-emotion.cjs.js', { sourceMap: true, autoLabel: true } ],\n                './node_modules/babel-plugin-macros/dist/index.js',\n                './node_modules/@babel/plugin-transform-react-constant-elements/lib/index.js',\n                './node_modules/babel-plugin-add-react-displayname/index.js',\n                [ './node_modules/babel-plugin-react-docgen/lib/index.js', { DOC_GEN_COLLECTION_NAME: 'STORYBOOK_REACT_CLASSES' } ],\n              ],\n            },\n          },\n        ],\n        include: [ './' ],\n        exclude: [ './node_modules' ],\n      },\n      { test: /\\.md$/,\n        use: [\n          { loader: './node_modules/raw-loader/index.js' },\n        ],\n      },\n      { test: /\\.css$/,\n        use: [\n          './node_modules/style-loader/index.js',\n          { loader: './node_modules/css-loader/dist/cjs.js', options: { importLoaders: 1 } },\n          { loader: './node_modules/postcss-loader/src/index.js', options: { ident: 'postcss', postcss: {}, plugins: [Function: plugins] } },\n        ],\n      },\n      { test: /\\.(svg|ico|jpg|jpeg|png|gif|eot|otf|webp|ttf|woff|woff2|cur|ani)(\\?.*)?$/,\n        loader: './node_modules/file-loader/dist/cjs.js',\n        query: { name: 'static/media/[name].[hash:8].[ext]' },\n      },\n      { test: /\\.(mp4|webm|wav|mp3|m4a|aac|oga)(\\?.*)?$/,\n        loader: './node_modules/url-loader/dist/cjs.js',\n        query: { limit: 10000, name: 'static/media/[name].[hash:8].[ext]' },\n      },\n    ],\n  },\n  resolve: {\n    extensions: [ '.mjs', '.js', '.jsx', '.json' ],\n    modules: [ 'node_modules' ],\n    mainFields: [ 'browser', 'main', 'module' ],\n    alias: {\n      'core-js': './node_modules/core-js',\n      react: './node_modules/react',\n      'react-dom': './node_modules/react-dom',\n    },\n  },\n  optimization: {\n    splitChunks: { chunks: 'all' },\n    runtimeChunk: true,\n    minimizer: [ [Object] ],\n  },\n  performance: { hints: false },\n}\n</code></pre>\n</details>\n<h3 id=\"debug-the-default-webpack-config\"><a href=\"#debug-the-default-webpack-config\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debug the default webpack config</h3>\n  <summary>To effectively customize the webpack config, you might need to get the full default config it's using.</summary>\n  <div></div>\n<ul>\n<li>Create a <code>.storybook/main.js</code> file.</li>\n<li>\n<p>Edit its contents:</p>\n<pre><code class=\"language-js\">module.exports = {\nwebpackFinal: (config) => console.dir(config, { depth: null }) || config,\n};\n</code></pre>\n</li>\n<li>\n<p>Then run storybook:</p>\n<pre><code class=\"language-sh\">yarn storybook --debug-webpack\n</code></pre>\n</li>\n</ul>\n<p>The console should log the entire config, for you to inspect.</p>\n<h2 id=\"examples\"><a href=\"#examples\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Examples</h2>\n<p>The value should export a <code>function</code>, it’s first argument, is the config that storybook would use, if you were to not customize it. The second argument is an options object from storybook, this will have information about where config came from, whether we’re in production of development mode etc.</p>\n<p>For example, here’s a <code>.storybook/main.js</code> to add <a href=\"https://sass-lang.com/\">Sass</a> support:</p>\n<pre><code class=\"language-js\">const path = require('path');\n\n// Export a function. Accept the base config as the only param.\nmodule.exports = {\n  webpackFinal: async (config, { configType }) => {\n    // `configType` has a value of 'DEVELOPMENT' or 'PRODUCTION'\n    // You can change the configuration based on that.\n    // 'PRODUCTION' is used when building the static version of storybook.\n\n    // Make whatever fine-grained changes you need\n    config.module.rules.push({\n      test: /\\.scss$/,\n      use: ['style-loader', 'css-loader', 'sass-loader'],\n      include: path.resolve(__dirname, '../'),\n    });\n\n    // Return the altered config\n    return config;\n  },\n};\n</code></pre>\n<p>Storybook uses the config returned from the above function to render your components in Storybook’s “preview” iframe. Note that Storybook has a completely separate webpack config for its own UI (also referred to as the “manager”), so the customizations you make only applies to the rendering of your stories, i.e. you can completely replace <code>config.module.rules</code> if you want.</p>\n<p>Nevertheless, edit <code>config</code> with care. Make sure to preserve the following config options:</p>\n<ul>\n<li>entry</li>\n<li>output</li>\n</ul>\n<p>Furthermore, <code>config</code> requires the <code>HtmlWebpackplugin</code> to generate the preview page, so rather than overwriting <code>config.plugins</code> you should probably append to it (or overwrite it with care), see <a href=\"https://github.com/storybookjs/storybook/issues/6020\">Issue #6020</a> for examples:</p>\n<pre><code class=\"language-js\">module.exports = {\n  webpackFinal: (config) => {\n    config.plugins.push(...);\n    return config;\n  },\n}\n</code></pre>\n<p>Finally, if your custom webpack config uses a loader that does not explicitly include specific file extensions via the <code>test</code> property, it is necessary to <code>exclude</code> the <code>.ejs</code> file extension from that loader.</p>\n<p>If you’re using a non-standard Storybook config directory, you should put <code>main.js</code> there instead of <code>.storybook</code> and update the <code>include</code> path to make sure that it resolves to your project root.</p>\n<h2 id=\"using-your-existing-config\"><a href=\"#using-your-existing-config\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Using Your Existing Config</h2>\n<p>If you have an existing webpack config for your project and want to reuse this app’s configuration, you can import your main webpack config into Storybook’s <code>.storybook/main.js</code> and merge the 2 configs:</p>\n<p><strong>Example</strong>\n<em>replacing the loaders from storybook with the loaders from your app’s <code>webpack.config.js</code></em></p>\n<pre><code class=\"language-js\">const path = require('path');\n\n// your app's webpack.config.js\nconst custom = require('../webpack.config.js');\n\nmodule.exports = {\n  webpackFinal: (config) => {\n    return { ...config, module: { ...config.module, rules: custom.module.rules } };\n  },\n};\n</code></pre>",fields:{slug:"/configurations/custom-webpack-config/"},frontmatter:{title:"Custom Webpack Config",id:"custom-webpack-config"}}},pathContext:{slug:"/configurations/custom-webpack-config/"}}}});
//# sourceMappingURL=path---configurations-custom-webpack-config-ce044bcd70ef8a3297dd.js.map